#!/usr/bin/env fish

set is_mirror (hyprctl monitors all -j | jq -r '.[0].mirrorOf')

if test "$is_mirror" = none
    hyprctl keyword monitor HDMI-A-1,3840x2160,0x0,3
    hyprctl keyword monitor eDP-1, preferred, auto, 1, mirror, HDMI-A-1
else
    hyprctl keyword monitor eDP-1, disable
    sleep 1
    hyprctl reload
end
